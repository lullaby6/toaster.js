<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./toaster.css">
    <script src="./toaster.js"></script>
</head>
<body style="background-color: black;">
    <button onclick="showToast()">showToast
    </button>
    <script>
        function showToast() {
            new Toaster({
                // type: 'info',
                title: 'Loading',
                text: 'Please wait...',
                closeButton: true,
                progressBar: true,
                promise: {
                    callback: () => new Promise((resolve, reject) =>
                        setTimeout(() => {
                            const randomBoolean = Math.random() < 0.5;

                            if (randomBoolean) {
                                resolve('The promise was resolved')
                            } else {
                                reject('The promise was rejected')
                            }
                        }, 1000)
                    ),
                    then: {
                        options: {
                            title: 'Success'
                        },
                        callback: (result, toast) => {
                            return {
                                text: result
                            }
                        }
                    },
                    catch: {
                        options: {
                            title: 'Error',
                            button: {
                                text: 'Retry',
                                onClick: (event, toast) => {
                                    toast.retryPromise();
                                }
                            },
                        },
                        callback: (error, toast) => {
                            return {
                                text: error
                            }
                        },
                    }
                }
            })
        }

    </script>
</body>
</html>